/*!
 * Script for initializing globally-used functions and libs.
 *
 * @since 1.0.0
 */
!function(a,b){"use strict";var c={cache:{},init:function(){this.cacheElements(),this.bindEvents()},cacheElements:function(){this.cache={$window:a(window),$document:a(document)}},bindEvents:function(){var c=this;c.cache.$document.ready(function(){c.navigationInit(),c.skipLinkFocusFix(),c.navigationHoverFix(),c.fitVidsInit(a(".ttfmake-embed-wrapper"),b)}),c.cache.$document.on("post-load",function(){var d=a('.ttfmake-embed-wrapper:not(:has(".fluid-width-video-wrapper"))');c.fitVidsInit(d,b)})},navigationInit:function(){function a(){for(var a=this;-1===a.className.indexOf("nav-menu");)"li"===a.tagName.toLowerCase()&&(-1!==a.className.indexOf("focus")?a.className=a.className.replace(" focus",""):a.className+=" focus"),a=a.parentElement}var b,c,d,e,f;if(b=document.getElementById("site-navigation"),b&&(c=b.getElementsByTagName("span")[0],"undefined"!=typeof c)){if(d=b.getElementsByTagName("ul")[0],"undefined"==typeof d)return void(c.style.display="none");d.setAttribute("aria-expanded","false"),-1===d.className.indexOf("nav-menu")&&(d.className+=" nav-menu"),c.onclick=function(){-1!==b.className.indexOf("toggled")?(b.className=b.className.replace(" toggled",""),c.setAttribute("aria-expanded","false"),d.setAttribute("aria-expanded","false")):(b.className+=" toggled",c.setAttribute("aria-expanded","true"),d.setAttribute("aria-expanded","true"))},e=d.getElementsByTagName("a"),f=d.getElementsByTagName("ul");for(var g=0,h=f.length;h>g;g++)f[g].parentNode.setAttribute("aria-haspopup","true");for(g=0,h=e.length;h>g;g++)e[g].addEventListener("focus",a,!0),e[g].addEventListener("blur",a,!0)}},skipLinkFocusFix:function(){var a=navigator.userAgent.toLowerCase().indexOf("webkit")>-1,b=navigator.userAgent.toLowerCase().indexOf("opera")>-1,c=navigator.userAgent.toLowerCase().indexOf("msie")>-1;(a||b||c)&&document.getElementById&&window.addEventListener&&window.addEventListener("hashchange",function(){var a,b=location.hash.substring(1);/^[A-z0-9_-]+$/.test(b)&&(a=document.getElementById(b),a&&(/^(?:a|select|input|button|textarea)$/i.test(a.tagName)||(a.tabIndex=-1),a.focus()))},!1)},navigationHoverFix:function(){this.cache.$dropdown=this.cache.$dropdown||a("li:has(ul)","#site-navigation"),this.cache.$dropdown.on("click",function(){return!0})},fitVidsInit:function(b,c){if(a.fn.fitVids){var d=b||a(".ttfmake-embed-wrapper"),e=c.fitvids.selectors||"",f={};e&&(f.customSelector=e),d.fitVids(f),d.find(".fluid-width-video-wrapper:nth-child(2)").css({paddingTop:0})}}};c.init()}(jQuery,ttfmakeGlobal);