/*! Thrive Content Builder - 2015-12-02
* http://www.thrivethemes.com/
* Copyright (c) 2015 Thrive Themes */
var UndoManager=function(a,b,c){"use strict";function d(a,b){return a?(h=!0,a[b](),h=!1,this):this}var e,f=[],g=-1,h=!1,i="undefined"!=typeof a?parseInt(a):10;return{register:function(a,b,c,d,e,f,g,h){this.add({undo:function(){b.apply(a,c)},redo:function(){f.apply(e,g)}})},add:function(a){return h?this:(f.splice(g+1,f.length-g),f.length>i-1&&f.splice(0,1),f.push(a),g=f.length-1,e&&e(f),b.removeClass("tve-disabled"),c.addClass("tve-disabled"),this)},setCallback:function(a){e=a},undo:function(){var a=f[g];return a?(g-=1,c.removeClass("tve-disabled"),-1===g&&b.addClass("tve-disabled"),d(a,"undo"),e&&e(f),this):this},redo:function(){var a=f[g+1];return a?(g+=1,b.removeClass("tve-disabled"),g>=f.length-1&&c.addClass("tve-disabled"),d(a,"redo"),e&&e(f),this):this},clear:function(){var a=f.length;f=[],g=-1,b.addClass("tve-disabled"),c.addClass("tve-disabled"),e&&a>0&&e(f)},hasUndo:function(){return-1!==g},hasRedo:function(){return g<f.length-1},getCommands:function(){return f}}};